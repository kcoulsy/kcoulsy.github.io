(this.webpackJsonpplt=this.webpackJsonpplt||[]).push([[0],{59:function(t,e,c){},60:function(t,e,c){"use strict";c.r(e);var a,r=c(0),s=c(1),n=c.n(s),l=c(28),i=c.n(l),o=c(8),d=c(2),u="/cart",j=c(12);!function(t){t.All="All",t.Black="Black",t.Stone="Stone",t.Red="Red"}(a||(a={}));var x,m=c(29),b=c.n(m),h=c(18);!function(t){t[t.AddToCart=0]="AddToCart",t[t.UpdateQuantity=1]="UpdateQuantity",t[t.RemoveFromCart=2]="RemoveFromCart"}(x||(x={}));var p={items:[],totalQuantity:0,totalPrice:0},f=Object(s.createContext)(p),O=Object(s.createContext)((function(){}));function v(t,e){switch(e.type){case x.AddToCart:var c=t.find((function(t){return t.product.id===e.payload.id}));if(c){var a=c.quantity;return[].concat(Object(h.a)(t.filter((function(t){return t.product.id!==e.payload.id}))),[{product:e.payload,quantity:a+1}])}return[].concat(Object(h.a)(t),[{product:e.payload,quantity:1}]);case x.UpdateQuantity:return t.map((function(t){return t.product.id===e.payload.id&&(t.quantity=e.payload.quantity),t}));case x.RemoveFromCart:return t.filter((function(t){return t.product.id!==e.payload.id}));default:return t}}var y,g=function(){return Object(s.useContext)(f)},N=function(){return Object(s.useContext)(O)},w=function(t){var e=t.children,c=Object(s.useReducer)(v,[]),a=Object(j.a)(c,2),n=a[0],l=a[1],i=n.reduce((function(t,e){return t+=e.quantity}),0),o=n.reduce((function(t,e){return t+=e.product.price*e.quantity}),0),d={items:n,totalQuantity:i,totalPrice:Math.round(100*o)/100};return Object(r.jsx)(f.Provider,{value:d,children:Object(r.jsx)(O.Provider,{value:l,children:e})})},k=function(t){var e=t.product,c=g().items,a=N(),s=c.find((function(t){return t.product.id===e.id})),n=null===s||void 0===s?void 0:s.quantity;return Object(r.jsx)("div",{"data-test":"component-productcard",className:"transition-all duration-150 flex w-full px-4 py-6 md:w-1/2 lg:w-1/3 ",children:Object(r.jsxs)("div",{className:"card flex flex-col  m-2 p-3 md:p-6 bg-white rounded-lg shadow-2xl",children:[Object(r.jsxs)("div",{className:"flex-grow",children:[Object(r.jsx)("p",{className:"text-2xl uppercase text-gray-900 font-bold",children:e.name}),Object(r.jsx)("p",{className:"uppercase text-sm text-gray-400",children:e.colour})]}),Object(r.jsxs)("div",{className:"md:my-3 relative",children:[Object(r.jsx)("img",{src:e.img,alt:e.name,className:"w-full object-cover object-center","data-test":"productcard-image"}),n&&Object(r.jsx)("div",{className:" absolute bottom-0 w-full bg-gray-900",children:Object(r.jsxs)("p",{className:"text-center text-gray-200 text-md my-1 pl-2",children:["You have ",n," in your cart!"]})})]}),Object(r.jsx)("div",{className:"grid gap-10",children:Object(r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center text-gray-900",children:[Object(r.jsxs)("p",{className:"font-bold text-xl",children:["\xa3",e.price]}),Object(r.jsx)("button",{"data-test":"productcard-addtocart",onClick:function(t){t.preventDefault(),a({type:x.AddToCart,payload:e})},className:"px-4 py-1 text-sm transition ease-in duration-200 uppercase rounded-md hover:bg-gray-800 hover:text-white border-2 border-gray-900 focus:outline-none",children:"Add to cart"})]})})]})})},C=function(t){var e=t.onSelect,c=Object.values(a);return Object(r.jsx)("div",{"data-test":"component-filter",children:Object(r.jsx)("select",{onChange:function(t){return e(t.target.value)},"data-test":"filter-select",className:"text-xl pt-1",children:c.map((function(t){return Object(r.jsx)("option",{value:t,"data-test":"filter-option",children:t},t)}))})})},q=function(){var t=Object(s.useState)([]),e=Object(j.a)(t,2),c=e[0],n=e[1],l=Object(s.useState)(a.All),i=Object(j.a)(l,2),o=i[0],d=i[1];Object(s.useEffect)((function(){b.a.get("https://my-json-server.typicode.com/benirvingplt/products/products").then((function(t){n(t.data)}))}),[]);var u=c;return o!==a.All&&(u=c.filter((function(t){return t.colour===o}))),Object(r.jsxs)("div",{"data-test":"page-home",className:"container mx-auto mt-6",children:[Object(r.jsxs)("div",{className:"flex justify-between items-center mx-10 md:mx-0",children:[Object(r.jsx)("h2",{className:"text-3xl font-semibold text-gray-800 md:text-4xl",children:"Products"}),Object(r.jsxs)("div",{className:"flex items-center",children:[Object(r.jsx)("span",{className:"font-bold text-2xl pr-3",children:"Color:"}),Object(r.jsx)(C,{onSelect:function(t){return d(t)}})]})]}),Object(r.jsx)("div",{className:"flex flex-row flex-wrap mx-auto",children:u.map((function(t){return Object(r.jsx)(k,{product:t},t.id)}))})]})};!function(t){t[t.Basket=0]="Basket",t[t.Plus=1]="Plus",t[t.Minus=2]="Minus",t[t.Checkout=3]="Checkout"}(y||(y={}));var P=function(t){var e=t.icon,c=t.styles;switch(e){case y.Basket:return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:c,"data-test":"icon-basket",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})});case y.Plus:return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:c,"data-test":"icon-plus",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})});case y.Minus:return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:c,"data-test":"icon-minus",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})});case y.Checkout:return Object(r.jsx)("svg",{"aria-hidden":"true","data-prefix":"far","data-icon":"credit-card",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:c,"data-test":"icon-checkout",children:Object(r.jsx)("path",{fill:"currentColor",d:"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"})});default:return Object(r.jsx)(r.Fragment,{})}},M=function(t){var e=t.quantity,c=t.product,a=N();return Object(r.jsxs)("tr",{"data-test":"component-cartproduct",children:[Object(r.jsx)("td",{className:"hidden pb-4 md:table-cell",children:Object(r.jsx)("img",{className:"w-20 rounded",src:c.img,alt:c.name,"data-test":"productcard-image"})}),Object(r.jsxs)("td",{children:[Object(r.jsxs)("p",{className:"mb-2 md:ml-4",children:[c.name,Object(r.jsx)("span",{className:"text-sm uppercase text-gray-400 pl-2",children:c.colour})]}),Object(r.jsx)("button",{type:"submit",className:"text-gray-700 md:ml-4 hover:text-gray-500",onClick:function(t){a({type:x.RemoveFromCart,payload:{id:c.id}})},"data-test":"cartproduct-removebutton",children:Object(r.jsx)("small",{children:"(Remove item)"})})]}),Object(r.jsx)("td",{children:Object(r.jsx)("div",{className:"flex justify-end ",children:Object(r.jsxs)("div",{className:"w-24 h-10 flex",children:[Object(r.jsx)("button",{"data-test":"cartproduct-qty-dec",onClick:function(t){a(1!==e?{type:x.UpdateQuantity,payload:{id:c.id,quantity:e-1}}:{type:x.RemoveFromCart,payload:{id:c.id}})},children:Object(r.jsx)(P,{icon:y.Minus,styles:"w-4 h-4 hover:text-gray-500 cursor-pointer"})}),Object(r.jsx)("div",{className:"relative flex flex-row w-full h-8 mx-2",children:Object(r.jsx)("input",{type:"text",value:e,className:"w-full font-semibold text-center text-gray-700 bg-gray-200 outline-none focus:outline-none hover:text-black focus:text-black",onChange:function(t){var e=t.target.value,r=parseInt(e);r&&a({type:x.UpdateQuantity,payload:{id:c.id,quantity:r}})},"data-test":"cartproduct-qty-input"})}),Object(r.jsx)("button",{"data-test":"cartproduct-qty-inc",onClick:function(t){a({type:x.UpdateQuantity,payload:{id:c.id,quantity:e+1}})},children:Object(r.jsx)(P,{icon:y.Plus,styles:"w-4 h-4 hover:text-gray-500 cursor-pointer"})})]})})}),Object(r.jsx)("td",{className:"text-right",children:Object(r.jsxs)("span",{className:"text-sm lg:text-base font-medium",children:["\xa3",c.price]})})]})},B=function(){var t=g(),e=t.items,c=t.totalPrice;return Object(r.jsxs)("div",{"data-test":"page-cart",className:"container mx-auto mt-6",children:[Object(r.jsx)("div",{className:"mx-10 md:mx-0",children:Object(r.jsx)("h2",{className:"text-3xl font-semibold text-gray-800 md:text-4xl",children:"Cart"})}),e.length?Object(r.jsxs)("div",{className:"px-10",children:[Object(r.jsxs)("table",{className:"w-full text-sm lg:text-base",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{className:"h-12 uppercase",children:[Object(r.jsx)("th",{className:"hidden md:table-cell"}),Object(r.jsx)("th",{className:"text-left",children:"Product"}),Object(r.jsx)("th",{className:"text-right pl-5 lg:pl-0 pr-2",children:"Quantity"}),Object(r.jsx)("th",{className:"text-right",children:"Price"})]})}),Object(r.jsx)("tbody",{children:e.map((function(t){var e=t.product,c=t.quantity;return Object(r.jsx)(M,{quantity:c,product:e},e.id)}))})]}),Object(r.jsxs)("div",{className:"p-4 md:w-1/2 md:float-right justify-center flex flex-col items-right",children:[Object(r.jsxs)("div",{className:"flex justify-between pt-4 border-b",children:[Object(r.jsx)("div",{className:"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800",children:"Total"}),Object(r.jsxs)("div",{className:"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900",children:["\xa3",c]})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("button",{className:"float-right flex justify-center items-center px-10 py-3 mt-6 font-medium text-white uppercase bg-gray-800 rounded-full shadow hover:bg-gray-700 focus:shadow-outline focus:outline-none",children:[Object(r.jsx)(P,{icon:y.Checkout,styles:"w-8"}),Object(r.jsx)("span",{className:"ml-2 mt-5px",children:"Procceed to checkout"})]})})]})]}):Object(r.jsxs)("div",{className:"w-100 flex flex-col justify-center items-center mt-4",children:[Object(r.jsx)("p",{"data-test":"cart-no-items",className:"text-xl",children:"You currently have no items in your basket!"}),Object(r.jsx)(o.b,{to:"/","data-test":"cart-link-home",className:"mt-2 text-blue-500 text-md",children:"Click Here to view the products again!"})]})]})},Q=function(t){var e=t.children;return Object(r.jsxs)(o.a,{children:[e,Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{exact:!0,path:"/",children:Object(r.jsx)(q,{})}),Object(r.jsx)(d.a,{path:u,children:Object(r.jsx)(B,{})})]})]})},A=function(){var t=g().totalQuantity;return Object(r.jsx)("header",{"data-test":"component-navbar",className:"bg-gray-100",children:Object(r.jsxs)("nav",{className:"container mx-auto flex items-center justify-between w-full text-gray-800 p-4",children:[Object(r.jsx)(o.b,{to:"/","data-test":"navbar-link-home",className:"font-semibold text-3xl tracking-tight hover:text-gray-600",children:"PLT"}),Object(r.jsx)("div",{className:"md:items-center md:w-auto flex",children:Object(r.jsxs)(o.b,{to:u,"data-test":"navbar-link-cart",className:"block text-gray-800 mr-4 font-bold hover:text-gray-600",children:[Object(r.jsx)(P,{icon:y.Basket,styles:"w-8 h-8 mx-auto"}),"Cart ",t>0&&"(".concat(t,")")]})})]})})};var R=function(){return Object(r.jsx)(w,{children:Object(r.jsx)(Q,{children:Object(r.jsx)(A,{})})})};c(59);i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.4ec9593f.chunk.js.map